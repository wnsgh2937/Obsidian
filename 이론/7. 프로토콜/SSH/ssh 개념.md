Secure Shell

서로 보안 통신을 한다는 말임. 22포트를 통해서 이루어짐.

보안통신을 한다는건 싹다 암호화를 한다는거고

암호화는 대칭키 / 비대칭키 방식이 있지?

비대칭키 방식을 사용함.

서버는 자신의 ssh 비공개키, 공개키가 있음.

클라가 ssh 연결을 걸면 일단 클라한테 공개키 넘김
/Users/name/.ssh/known_host 파일에 서버의 공개키 정보가 적힘.

그러면 어떻게, 이제 클라가 나 님 서버에 들어갈 수 있는 사람이에요~ 하고 인증을 해야할거 아님?

인증방식은 모.. 여러개가 있겠지만,

서버가 설정한 ID / PW 이거 제시한 사람 통과시켜준다. 이런 스탠스일거 아님?

ㅇㅇ 그래서 ID /PW 방식이  있음. 다만 보안상 취약하긴함. ㅎ

그래서 다음 클라 인증 방식을 사용하는데,

SSH 공개키 인증 방식임.

일단은 모 서버가 이사람은 통과시켜줘야한다 라는 값이 있을거아님?

그래서 서버도 통과시켜줄 사람의 공개키를 가지고 있음.
이건 .ssh/authorized_key 에 적혀있음.

그러니까 authorized_key에 적혀있는 공개키를 제시하는 사람은 통과시켜준다는 거임.

클라로 다시 넘어가보자.

클라도 지만의 대칭키 / 비대칭키가 있음. 
.ssh/id_rsa, id_rsa.pub 임.

id_rsa.pub을 서버에 넘김. 그리고 이게 서버의 authorized_key에 적혀있으면 통과인거임 ㅇㅇ

즉, 정리하면
- 클라의 연결 요청이 들어옴.
- 서버

모 여기서 끝이 아니지.
클라 이사람이 지 공개키 넘긴게 서버에 적혀있는게 맞긴한데

진짜 맞는 사람인지 보려면 비공개키를 진짜 들고있는지 봐야할거아님?
그래서 살짝 테스트를 해봄.

난수를 만들어서, 이걸 클라 공개키로 암호화 해서 넘김 
이거 풀어서 넘기면 이 사람 ㅋ 진짜네 ㅋ 
인거고, 못풀면 이 사람 ㅋ 어디서 슈킹해온 공개키가지고 속일라고 ㅋ 하는거임.




![[Pasted image 20231021215832.png]]

